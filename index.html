<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenAI Model Demo</title>
</head>
<body>
    <h1>Ask a Question about Sana Commerce</h1>
    <p>
        Ask info about info from two topics <a target="_blank" href="https://support.sana-commerce.com/Content/Sana-User-Guide/Basics/Store-Information.htm?tocpath=Sana%20User%20Guide%7CBasics%7C_____1">Basics</a> and <a target="_blank" href="https://support.sana-commerce.com/Content/Sana-User-Guide/Ordering-and-Checkout/Ordering-Settings/Registration.htm?tocpath=Sana%20User%20Guide%7COrdering%20%2526%20Checkout%7COrdering%20Settings%7C_____1">Ordering Settings</a> from Sana help site
    </p>
    <form id="myform" action="https://script.google.com/macros/s/AKfycbyy7MD91e9dQpQ4vUhm26C3X07ZquBZ04njGwFVj5WivgZytJ00hr3lK0QZ6Kdjrerc9w/exec" method="post">
        <div>
            <textarea id="question" name="question" style="width: 300px;">What is Sana Commerce?</textarea><br/>
            <button id="doSubmit">Ask</button>
        </div>
        <h3>Response:</h3>
        <div id="responseArea"></div>
        <input type="hidden" id="answer" name="answer" />
        <input type="hidden" id="good" name="good" />

        <div id="feedback" style="display: none;">
            <p><i>How do you evaluate this answer?</i></p>
            <input type="button" id="feedbackGood" value="Good" />
            <input type="button" id="feedbackMaybe" value="I don't know" />
            <input type="button" id="feedbackBad" value="Bad" />
        </div>
        <div id="submittingFeedback" style="display: none;">
            <i>Submitting...</i>
        </div>
    </form>

    <script>
const _0x54ee61=_0x1481;(function(_0x5b5158,_0x51bfaf){const _0x4e5d74=_0x1481,_0x5d6439=_0x5b5158();while(!![]){try{const _0x19d57f=-parseInt(_0x4e5d74(0x110))/0x1+parseInt(_0x4e5d74(0x100))/0x2+-parseInt(_0x4e5d74(0x105))/0x3+-parseInt(_0x4e5d74(0xfc))/0x4+-parseInt(_0x4e5d74(0xec))/0x5+-parseInt(_0x4e5d74(0xee))/0x6*(parseInt(_0x4e5d74(0xe6))/0x7)+parseInt(_0x4e5d74(0xe9))/0x8*(parseInt(_0x4e5d74(0x108))/0x9);if(_0x19d57f===_0x51bfaf)break;else _0x5d6439['push'](_0x5d6439['shift']());}catch(_0x53e28f){_0x5d6439['push'](_0x5d6439['shift']());}}}(_0x2c00,0xc0f0a));function _0x1481(_0x5cc0d7,_0x15da25){const _0x2c00ea=_0x2c00();return _0x1481=function(_0x148165,_0x21d9be){_0x148165=_0x148165-0xe4;let _0x53019e=_0x2c00ea[_0x148165];return _0x53019e;},_0x1481(_0x5cc0d7,_0x15da25);}const feedbackBlock=document['getElementById'](_0x54ee61(0x10e)),userInput=document[_0x54ee61(0x10f)](_0x54ee61(0xeb));userInput[_0x54ee61(0xfe)](),userInput[_0x54ee61(0xf2)](_0x54ee61(0xf0),function(_0x1d8716){const _0x528e31=_0x54ee61;_0x1d8716[_0x528e31(0x101)]&&_0x1d8716['key']===_0x528e31(0x107)&&askOpenAI();}),document[_0x54ee61(0x10f)]('doSubmit')[_0x54ee61(0xfb)]=function(){return askOpenAI(),![];},document[_0x54ee61(0x10f)](_0x54ee61(0xf7))[_0x54ee61(0xfb)]=function(){return postFeedback('good');},document[_0x54ee61(0x10f)](_0x54ee61(0xed))[_0x54ee61(0xfb)]=function(){const _0x3fb749=_0x54ee61;return postFeedback(_0x3fb749(0x111));},document['getElementById'](_0x54ee61(0x103))[_0x54ee61(0xfb)]=function(){const _0x2dafd6=_0x54ee61;return postFeedback(_0x2dafd6(0x10c));};function _0x2c00(){const _0x29390e=['answer','content','7miFZqH','Loading...','value','24yHakoN','innerHTML','question','3417775HizSvY','feedbackMaybe','6605772oFFJNf','user','keydown','json','addEventListener','forms','ft:gpt-4o-2024-08-06:personal:basicandorderingsettings:AMDG9X3o','submit','block','feedbackGood','Bearer\x20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','stringify','display','onclick','910796XKvuWs','POST','select','none','837044AeVdnC','ctrlKey','style','feedbackBad','Please\x20enter\x20a\x20question.','3804933uwCOnf','good','Enter','13724766HRinNo','submittingFeedback','application/json','message','bad','myform','feedback','getElementById','922635AClMAd','maybe'];_0x2c00=function(){return _0x29390e;};return _0x2c00();}function postFeedback(_0xf3f5a7){const _0xd32f35=_0x54ee61;return document['getElementById'](_0xd32f35(0x106))['value']=_0xf3f5a7,feedbackBlock[_0xd32f35(0x102)][_0xd32f35(0xfa)]=_0xd32f35(0xff),document[_0xd32f35(0x10f)](_0xd32f35(0x109))['style'][_0xd32f35(0xfa)]=_0xd32f35(0xf6),document[_0xd32f35(0xf3)][_0xd32f35(0x10d)][_0xd32f35(0xf5)](),![];}async function askOpenAI(){const _0x398a72=_0x54ee61,_0x287369=document['getElementById'](_0x398a72(0xeb))[_0x398a72(0xe8)],_0x3f3912=document[_0x398a72(0x10f)]('responseArea'),_0x21c720=document[_0x398a72(0x10f)](_0x398a72(0xe4));if(!_0x287369){_0x3f3912['innerHTML']=_0x398a72(0x104);return;}_0x3f3912[_0x398a72(0xea)]=_0x398a72(0xe7);const _0xab4bea=_0x398a72(0xf8);try{const _0x26b90a=await fetch('https://api.openai.com/v1/chat/completions',{'method':_0x398a72(0xfd),'headers':{'Content-Type':_0x398a72(0x10a),'Authorization':_0xab4bea},'body':JSON[_0x398a72(0xf9)]({'model':_0x398a72(0xf4),'messages':[{'role':'system','content':'Marv\x20is\x20a\x20support\x20chatbot\x20that\x20answers\x20question\x20about\x20Sana\x20Commerce\x20and\x20does\x20not\x20hallucinate.\x20If\x20there\x20is\x20no\x20information\x20it\x20should\x20answer\x20that\x20it\x20doesn\x27t\x20know\x20and\x20provide\x20link\x20to\x20help\x20site\x20https://help.sana-commerce.com.'},{'role':_0x398a72(0xef),'content':_0x287369}]})}),_0x3a95f6=await _0x26b90a[_0x398a72(0xf1)](),_0x8f74ca=_0x3a95f6['choices'][0x0][_0x398a72(0x10b)][_0x398a72(0xe5)];_0x3f3912['innerHTML']=_0x8f74ca,_0x21c720['value']=_0x8f74ca,feedbackBlock[_0x398a72(0x102)][_0x398a72(0xfa)]=_0x398a72(0xf6);}catch(_0x136aa2){_0x3f3912['innerHTML']='Error:\x20'+_0x136aa2['message'];}}
    </script>
</body>
</html>
