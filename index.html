<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenAI Model Demo</title>
</head>
<body>
    <h1>Ask a Question about Sana Commerce</h1>
    <p>
        Ask info about info from two topics <a target="_blank" href="https://support.sana-commerce.com/Content/Sana-User-Guide/Basics/Store-Information.htm?tocpath=Sana%20User%20Guide%7CBasics%7C_____1">Basics</a> and <a target="_blank" href="https://support.sana-commerce.com/Content/Sana-User-Guide/Ordering-and-Checkout/Ordering-Settings/Registration.htm?tocpath=Sana%20User%20Guide%7COrdering%20%2526%20Checkout%7COrdering%20Settings%7C_____1">Ordering Settings</a> from Sana help site
    </p>
    <form id="myform" action="https://script.google.com/macros/s/AKfycbyy7MD91e9dQpQ4vUhm26C3X07ZquBZ04njGwFVj5WivgZytJ00hr3lK0QZ6Kdjrerc9w/exec" method="post">
        <div>
            <textarea id="question" name="question" style="width: 300px;">What is Sana Commerce?</textarea><br/>
            <button id="doSubmit">Ask</button>
        </div>
        <h3>Response:</h3>
        <div id="responseArea"></div>
        <input type="hidden" id="answer" name="answer" />
        <input type="hidden" id="good" name="good" />

        <div id="feedback" style="display: none;">
            <p><i>How do you evaluate this answer?</i></p>
            <input type="button" id="feedbackGood" value="Good" />
            <input type="button" id="feedbackMaybe" value="I don't know" />
            <input type="button" id="feedbackBad" value="Bad" />
        </div>
        <div id="submittingFeedback" style="display: none;">
            <i>Submitting...</i>
        </div>
    </form>

    <script>
const _0x207e3=_0x7667;function _0x2a4e(){const _0x35bb73=['2362948tWlREp','system','POST','Error:\x20','Loading...','onclick','348432IQLLMK','196hqbMEc','doSubmit','Marv\x20is\x20a\x20support\x20chatbot\x20that\x20answers\x20question\x20only\x20about\x20\x27Sana\x20Commerce\x27\x20and\x20does\x20not\x20hallucinate.\x20If\x20there\x20is\x20no\x20information\x20about\x20\x27Sana\x20Commerce\x27\x20it\x20should\x20answer\x20that\x20it\x20doesn\x27t\x20know\x20and\x20provide\x20link\x20to\x20help\x20site\x20https://help.sana-commerce.com.\x20In\x20case\x20of\x20questions\x20non-related\x20to\x20Sana\x20Commerce\x20answer\x20that\x20you\x20can\x20help\x20with\x20Sana\x20Commerce\x20only.','stringify','feedbackGood','feedbackMaybe','innerHTML','submittingFeedback','display','key','submit','44136HxpAzv','answer','146936rbuoNf','Please\x20enter\x20a\x20question.','8843758ueXVPW','feedback','user','myform','https://api.openai.com/v1/chat/completions','question','value','style','none','json','block','responseArea','content','3418995dELoEf','good','Enter','5863860wJwwnR','addEventListener','getElementById','144pduqGi','bad','keydown','ft:gpt-4o-2024-08-06:personal:basicandorderingsettings:AMDG9X3o','ctrlKey'];_0x2a4e=function(){return _0x35bb73;};return _0x2a4e();}(function(_0x449f2e,_0x70f814){const _0x4feed2=_0x7667,_0x2cf8f7=_0x449f2e();while(!![]){try{const _0x3a2f84=-parseInt(_0x4feed2(0x1fd))/0x1+parseInt(_0x4feed2(0x1e9))/0x2+parseInt(_0x4feed2(0x1fb))/0x3*(parseInt(_0x4feed2(0x1f0))/0x4)+-parseInt(_0x4feed2(0x20c))/0x5+-parseInt(_0x4feed2(0x1e1))/0x6+parseInt(_0x4feed2(0x1ff))/0x7+-parseInt(_0x4feed2(0x1ef))/0x8*(parseInt(_0x4feed2(0x1e4))/0x9);if(_0x3a2f84===_0x70f814)break;else _0x2cf8f7['push'](_0x2cf8f7['shift']());}catch(_0x4f97a0){_0x2cf8f7['push'](_0x2cf8f7['shift']());}}}(_0x2a4e,0xa156f));const feedbackBlock=document['getElementById'](_0x207e3(0x200)),userInput=document['getElementById'](_0x207e3(0x204));function _0x7667(_0x10ed90,_0x170bf2){const _0x2a4ecc=_0x2a4e();return _0x7667=function(_0x766728,_0x4f8e90){_0x766728=_0x766728-0x1e1;let _0x11156e=_0x2a4ecc[_0x766728];return _0x11156e;},_0x7667(_0x10ed90,_0x170bf2);}userInput['select'](),userInput[_0x207e3(0x1e2)](_0x207e3(0x1e6),function(_0x34cb8b){const _0x32bfd7=_0x207e3;_0x34cb8b[_0x32bfd7(0x1e8)]&&_0x34cb8b[_0x32bfd7(0x1f9)]===_0x32bfd7(0x20e)&&askOpenAI();}),document['getElementById'](_0x207e3(0x1f1))['onclick']=function(){return askOpenAI(),![];},document[_0x207e3(0x1e3)](_0x207e3(0x1f4))[_0x207e3(0x1ee)]=function(){return postFeedback('good');},document['getElementById'](_0x207e3(0x1f5))[_0x207e3(0x1ee)]=function(){return postFeedback('maybe');},document[_0x207e3(0x1e3)]('feedbackBad')[_0x207e3(0x1ee)]=function(){const _0x122ffc=_0x207e3;return postFeedback(_0x122ffc(0x1e5));};function postFeedback(_0x241879){const _0xa48d4f=_0x207e3;return document[_0xa48d4f(0x1e3)](_0xa48d4f(0x20d))['value']=_0x241879,feedbackBlock[_0xa48d4f(0x206)][_0xa48d4f(0x1f8)]=_0xa48d4f(0x207),document[_0xa48d4f(0x1e3)](_0xa48d4f(0x1f7))[_0xa48d4f(0x206)][_0xa48d4f(0x1f8)]=_0xa48d4f(0x209),document['forms'][_0xa48d4f(0x202)][_0xa48d4f(0x1fa)](),![];}async function askOpenAI(){const _0x4cfa5a=_0x207e3,_0x163933=document[_0x4cfa5a(0x1e3)]('question')[_0x4cfa5a(0x205)],_0x5c6812=document['getElementById'](_0x4cfa5a(0x20a)),_0x3bcd8d=document[_0x4cfa5a(0x1e3)](_0x4cfa5a(0x1fc));if(!_0x163933){_0x5c6812[_0x4cfa5a(0x1f6)]=_0x4cfa5a(0x1fe);return;}_0x5c6812[_0x4cfa5a(0x1f6)]=_0x4cfa5a(0x1ed);const _0x3a79a4='Bearer\x20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';try{const _0x2d4646=await fetch(_0x4cfa5a(0x203),{'method':_0x4cfa5a(0x1eb),'headers':{'Content-Type':'application/json','Authorization':_0x3a79a4},'body':JSON[_0x4cfa5a(0x1f3)]({'model':_0x4cfa5a(0x1e7),'messages':[{'role':_0x4cfa5a(0x1ea),'content':_0x4cfa5a(0x1f2)},{'role':_0x4cfa5a(0x201),'content':_0x163933}]})}),_0x175208=await _0x2d4646[_0x4cfa5a(0x208)](),_0x79051c=_0x175208['choices'][0x0]['message'][_0x4cfa5a(0x20b)];_0x5c6812[_0x4cfa5a(0x1f6)]=_0x79051c,_0x3bcd8d[_0x4cfa5a(0x205)]=_0x79051c,feedbackBlock[_0x4cfa5a(0x206)]['display']='block';}catch(_0x953c7a){_0x5c6812['innerHTML']=_0x4cfa5a(0x1ec)+_0x953c7a['message'];}}
    </script>
</body>
</html>
